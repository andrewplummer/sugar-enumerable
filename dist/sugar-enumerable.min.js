/*
 *  Sugar v2.0.0
 *
 *  Freely distributable and licensed under the MIT-style license.
 *  Copyright (c) Andrew Plummer
 *  https://sugarjs.com/
 *
 * ---------------------------- */
(function(){'use strict';(function(){function k(a,b){for(var c in a)if(p(a,c)&&!1===b.call(a,a[c],c,a))break}function ha(a){function b(a,b,c){n(d,a,function(a,e,r){a=Z(a,e,r);Ma(d,a.methods,b,c,a.b);return d})}var c="Object"===a,d=ia(a);b("defineStatic",1);b("defineInstance",2);b("defineInstanceAndStatic",3);b("defineStaticWithArguments",1,!0);b("defineInstanceWithArguments",2,!0);n(d,"defineStaticPolyfill",function(b,c,d){b=Z(b,c,d);I(x[a],b.methods,!0,b.b)});n(d,"defineInstancePolyfill",function(b,c,h){b=Z(b,c,h);I(x[a].prototype,
b.methods,!0,b.b);k(b.methods,function(a,b){J(d,b,a)})});n(d,"alias",function(a,b){var c=d,g="string"===typeof b?d[b]:b;c[a]=g;g.instance&&J(c,a,g.instance)});n(d,"extend",function(b){function f(a,c){var d=b[a];if(d)for(var f=0,h;h=d[f];f++)if(h===c)return!0;return!1}function h(a,c,d){if(!c[a]||!d)return!1;for(a=0;a<d.length;a++)if(!1===b[d[a]])return!0}var g=x[a],l=g.prototype,r={},ja={},L;b=b||{};L=b.methods;if(!f("except",g)&&(!b.namespaces||f("namespaces",g)))return c&&"boolean"===typeof b.objectPrototype&&
(aa=b.objectPrototype),k(L||d,function(a,b){L&&(b=a,a=d[b]);!p(a,"instance")||c&&l===l&&(!aa||"get"===b||"set"===b)||h(b,l,a.flags)||f("except",b)||(ja[b]=a.instance);!p(a,"static")||c&&g===l&&(!aa||"get"===b||"set"===b)||h(b,g,a.flags)||f("except",b)||(r[b]=a)}),I(g,r),I(l,ja),L||n(d,"active",!0),m});M[a]=d;ka["[object "+a+"]"]=d;la(a);Na(d);return m[a]=d}function Oa(){return"Sugar"}function Ma(a,b,c,d,e){k(b,function(b,h){var g,l=b;d&&(l=ma(b));e&&(l.flags=e);c&2&&!b.instance&&(g=d?ma(b,!0):Pa(b),
n(l,"instance",g));c&1&&n(l,"static",!0);g=l;a[h]=g;g.instance&&J(a,h,g.instance);a.active&&a.extend(h)})}function Z(a,b,c){var d;"string"===typeof a?(d={},d[a]=b,a=c):(d=a,a=b);return{b:a,methods:d}}function ma(a,b){var c=a.length-1-(b?1:0);return function(){var d=[],e=[],f;b&&d.push(this);f=Math.max(arguments.length,c);for(var h=0;h<f;h++)h<c?d.push(arguments[h]):e.push(arguments[h]);d.push(e);return a.apply(this,d)}}function Pa(a){switch(a.length){case 0:case 1:return function(){return a(this)};
case 2:return function(b){return a(this,b)};case 3:return function(b,c){return a(this,b,c)};case 4:return function(b,c,d){return a(this,b,c,d)};case 5:return function(b,c,d,e){return a(this,b,c,d,e)}}}function I(a,b,c,d){k(b,function(b,f){c&&!d&&a[f]||n(a,f,b)})}function ia(a){function b(a,d){if(!(this instanceof b))return new b(a,d);this.constructor!==b&&(a=this.constructor.apply(a,arguments));this.raw=a}n(b,"toString",function(){return"Sugar"+a});n(b.prototype,"valueOf",function(){return this.raw});
return b}function J(a,b,c){c=Qa(c);var d,e,f;f=na.prototype;e=(d=f[b])&&d!==Object.prototype[b];d&&d.c||(f[b]=e?Ra(b):c);a.prototype[b]=c;a===m.Object&&Sa(b,c)}function Na(a){k(m.Object&&m.Object.prototype,function(b,c){if("function"===typeof b){var d=a.prototype;p(d,c)||(d[c]=b)}})}function Sa(a,b){k(M,function(c){c=c.prototype;p(c,a)||(c[a]=b)})}function Qa(a){return function(){return new na(a.apply(this.raw,arguments))}}function Ra(a){function b(){var b=this.raw,d;null!=b&&(d=ka[q(b)]);d||(d=m.Object);
d=(new d(b))[a];if(d.c)throw new TypeError("Cannot resolve namespace for "+b);return d.apply(this,arguments)}b.c=!0;return b}function la(a,b){var c=M[a],d=x[a].prototype;!b&&oa&&(b=oa(d));k(b,function(a){if("constructor"!==a&&"valueOf"!==a&&"__proto__"!==a){try{var b=d[a];if("function"!==typeof b)return}catch(h){return}J(c,a,b)}})}function Ta(a,b,c){a[b]=c.value}function n(a,b,c,d){pa(a,b,{value:c,enumerable:!!d,configurable:!0,writable:!0})}function q(a){return Ua.call(a)}function p(a,b){return!!a&&
Va.call(a,b)}function N(a,b){if(p(a,b))return a[b]}function O(a,b,c){c||(c=q(a));return c==="[object "+b+"]"}function C(a){return function(b,c,d){b[a](c,d)}}function u(a){function b(b){var d=arguments;return a(b,d[1],d[2],d.length-1)}b.instance=function(b){var d=arguments;return a(this,b,d[1],d.length)};return b}function qa(a){if(!a)throw new TypeError("Argument required");}function P(a){if(!w(a))throw new TypeError("Function is not callable");}function D(a){if(!Q(a)){var b=q(a);if(ra(a,b))return Wa(a);
if(sa(a,b))return Xa(a);if(w(a,b))return Ya(a);if(ta(a,b))return Za(a)}return $a(a)}function Za(a){var b={};return function(c,d,e){var f=!0;if(!E(c))return!1;k(a,function(a,g){b[g]=N(b,g)||D(a);!1===b[g].call(e,c[g],d,e)&&(f=!1);return f});return f}}function $a(a){return function(b){return R(b,a)}}function Wa(a){a=RegExp(a);return function(b){return a.test(b)}}function Xa(a){var b=a.getTime();return function(a){return!(!a||!a.getTime)&&a.getTime()===b}}function Ya(a){return function(b,c,d){return b===
a||a.call(d,b,c,d)}}function S(a,b,c,d,e,f,h){var g,l,r,k,m,n,t;g=a||void 0;if(null!=b){if(E(b))a=[b];else{b=String(b);if(-1!==b.indexOf(".."))return ab(a,b,c,h);a=b.split("[")}k=void 0!==h;for(var A=0,K=a.length;A<K;A++){l=a[A];T(l)&&(l=l.split("."));for(var B=0,ba=l.length;B<ba;B++)if(b=l[B],m=A===K-1&&B===ba-1,r=b.indexOf("]"),t=-1!==r,n=k&&0===r,r=1<K&&B===ba-1,n?b=g.length:t&&(b=b.slice(0,-1)),t&&0>b&&(b=+b+g.length),A||b||1===K)if(t=c?b in g:p(g,b),!e||m&&!f||t){if(d){if(m||!t)return t}else if(k&&
m){if(Q(g))throw new TypeError("Property cannot be written");g[b]=h}g=t?g[b]:void 0}else g=g[b]=r||f&&m?[]:{}}return g}}function ab(a,b,c,d){var e,f,h;if(e=b.match(bb)){b=void 0!==d;a=(f=e[1])?S(a,f,c,!1,b?!0:!1,!0):a;if(!U(a))throw new TypeError("Array required");h=e[4];f=e[2]?+e[2]:0;e=e[3]?+e[3]:a.length;e=-1===e?a.length:e+1;if(b)for(b=f;b<e;b++)S(a,b+h,c,!1,!0,!1,d);else if(a=a.slice(f,e),h)return"."===h.charAt(0)&&(h=h.slice(1)),a.map(function(a){return S(a,h)});return a}}function E(a){return!!a&&
"object"===typeof a}function Q(a,b){b=b||typeof a;return null==a||"string"===b||"number"===b||"boolean"===b}function ta(a,b){var c;if(c=E(a)&&O(a,"Object",b))c="constructor"in a,c=!c&&!("toString"in a)||c&&!p(a,"constructor")&&p(a.constructor.prototype,"isPrototypeOf");if(c)a:{c=Object.prototype;for(var d in a){var e=a[d];if(!p(a,d)&&e!==c[d]){c=!1;break a}}c=!0}return c}function R(a,b,c){var d,e;if(a===b)return 0!==a||1/a===1/b;d=q(a);e=q(b);return d!==e?!1:V(a,d)&&V(b,e)?cb(a,b,c):ca(a,d)&&ca(b,
e)?a.size===b.size&&R(ua(a),ua(b),c):da(a,d)&&da(b,e)?a.size===b.size&&R(va(a),va(b),c):ea(a,d)&&ea(b,e)?a.toString()===b.toString():!1}function cb(a,b,c){var d,e;if(typeof a!==typeof b)return!1;if(E(a.valueOf())){if(a.length!==b.length)return!1;e=0;d=!0;wa(a,!1,c,function(a,c,g,l){g||a in b&&R(c,b[a],l)||(d=!1);e++;return d});if(!d||e!==Object.keys(b).length)return!1}return a.valueOf().toString()===b.valueOf().toString()}function xa(a,b,c){var d=typeof a,e,f;if(Q(a,d)&&(null==a||a===a))return d+
a;e=q(a);if(V(a,e))E(a)?f=db(a,b,c)+a.toString():-Infinity===1/a?f="-0":a.valueOf&&(f=a.valueOf());else{a:{c=0;for(d=b.length;c<d;c++)if(c in b&&b[c]===a)break a;c=-1}-1===c&&(c=b.length,b.push(a));return c}return d+e+f}function db(a,b,c){var d="";wa(a,!0,c,function(a,c,h,g){d+=h?"CYC":a+xa(c,b,g)});return d}function wa(a,b,c,d){function e(a,b){var f=!1;if(1<c.length)for(var e=c.length;e--;)c[e]===a&&(f=!0);c.push(a);d(b,a,f,c);c.pop()}function f(){for(var b=Object.keys(a).sort(),c,d=0;d<b.length;d++)c=
b[d],e(a[c],b[d])}c||(c=[]);b?f():k(a,e)}function eb(a,b){var c=[],d;for(d in a)d>>>0==d&&4294967295!=d&&d>=b&&c.push(+d);c.sort(function(a,c){var d=a>b;return d!==c>b?d?-1:1:a-c});return c}function ya(a,b,c){a&&c&&(a%=b);0>a&&(a=b+a);return a}function W(a,b,c,d){return b?b.apply?b.apply(c,d||[]):U(b)?b.map(function(b){return W(a,b,c,d)}):w(a[b])?a[b].call(a):S(a,b,void 0,!1):a}function fa(a,b){for(var c=0,d=a.length;c<d;c++){if(!(c in a)){for(var d=a,e=b,c=eb(d,c),f,h=0,g=c.length;h<g;h++)f=c[h],
e.call(d,d[f],f,d);break}b(a[c],c)}}function ua(a){var b=Array(a.size),c=0;a.forEach(function(a){b[c++]=a});return b}function va(a){var b=Array(a.size),c=0;a.forEach(function(a,e){b[c++]=[e,a]});return b}function za(a,b){var c=0;F(a,b,function(a){c+=a});return c}function Aa(a,b){var c=0,d=0;F(a,b,function(a){c+=a;d++});return c/(d||1)}function Ba(a,b){var c=[],d,e;F(a,b,function(a){c.push(a)});e=c.length;if(!e)return 0;c.sort(function(a,b){return(a||0)-(b||0)});d=Ca(e/2);return e%2?c[d]:(c[d-1]+c[d])/
2}function G(a,b,c,d,e){var f=[],h,g,l;X(b)&&(l=b,b=c);F(a,b,function(b,c){if(void 0===b)throw new TypeError("Cannot compare with undefined");h=e?c:a[c];if(b===g)f.push(h);else if(void 0===g||d&&b>g||!d&&b<g)f=[h],g=b});return Da(f,a,l,e)}function Y(a,b,c,d,e){var f={},h=[],g,l;X(b)&&(l=b,b=c);F(a,b,function(b,c){var d=xa(b,h),g=N(f,d)||[];g.push(e?c:a[c]);f[d]=g});d=G(f,!!l,"length",d,!0);l?(g=[],k(d,function(a){g=g.concat(a)})):g=N(f,d);return Da(g,a,l,e)}function Da(a,b,c,d){if(d&&c)return a.reduce(function(a,
c){a[c]=b[c];return a},{});a&&!c&&(a=a[0]);return a}function F(a,b,c){var d=U(a);k(a,function(e,f){if(d){if(f>>>0!=f||4294967295==f)return;f=+f}var h=W(e,b,a,[e,f,a]);c(h,f)})}function Ea(a,b){if(w(a))return a;if(a)return function(c,d,e){return W(c,a,b,[c,d,e])}}function v(a){var b;if(w(a))return a;b=D(a);return function(a,d,e){return b(a,d,e)}}function y(a,b){var c=Array.prototype[a];return function(a,e,f,h){var g=Array(2);qa(0<h);g[0]=b(e,f);g[1]=f;return c.apply(a,g)}}function fb(a,b){P(b);k(a,
function(c,d){b(c,d,a)});return a}function gb(a,b){var c={};k(a,function(d,e){c[e]=W(d,b,a,[d,e,a])});return c}function hb(a,b,c){var d=void 0!==c;k(a,function(e,f){d?c=b(c,e,f,a):(c=e,d=!0)});return c}function ib(a,b){var c=D(b),d={};k(a,function(b,f){c(b,f,a)&&(d[f]=b)});return d}function jb(a,b){var c=D(b),d=0;k(a,function(b,f){c(b,f,a)&&d++});return d}function ga(a){var b=Array.prototype[a];return function(a,d){var e=D(d);return b.call(Object.keys(a),function(b){return e(a[b],b,a)})}}var m,x=
"undefined"!==typeof global&&global.Object===Object?global:this,kb="undefined"!==typeof module&&module.g,aa=!1,M={},ka={},pa=Object.defineProperty&&Object.defineProperties?Object.defineProperty:Ta,na=ia("Chainable"),oa=Object.getOwnPropertyNames,Ua=Object.prototype.toString,Va=Object.prototype.hasOwnProperty;(function(){m=x.Sugar;if(!m){m=function(a){k(m,function(b,c){p(M,c)&&b.extend(a)});return m};if(kb)module.g=m;else try{x.Sugar=m}catch(a){}k("Object Number String Array Date RegExp Function".split(" "),
function(a){ha(a)});n(m,"extend",m);n(m,"toString",Oa);n(m,"createNamespace",ha);n(m,"util",{hasOwn:p,getOwn:N,setProperty:n,classToString:q,defineProperty:pa,forEachProperty:k,mapNativeToChainable:la})}})();var lb=!("0"in Object("a")),bb=/^(.*?)\[([-\d]*)\.\.([-\d]*)\](.*)$/,mb=m.Object,z=m.Array,V,X,T,sa,ra,w,U,ca,da,ea,Fa=C("defineInstance"),nb=C("defineStaticPolyfill"),Ga=C("defineInstancePolyfill"),ob=C("defineInstanceAndStatic"),pb=C("defineInstanceWithArguments"),Ca=Math.trunc||function(a){return 0!==
a&&isFinite(a)?0>a?qb(a):rb(a):a},Ha=Math.min,H=Math.max,qb=Math.ceil,rb=Math.floor,Ia=String.fromCharCode;(function(){function a(a){f["[object "+a+"]"]=!0}function b(a,b){return b&&O(new b,"Object")?c(b):d(a)}function c(a){var b=String(a);return function(a){return String(a.constructor)===b}}function d(a){return function(b,c){return O(b,a,c)}}function e(a){var b=a.toLowerCase();return function(c){var d=typeof c;return d===b||"object"===d&&O(c,a)}}var f={};(function(){var c="Boolean Number String Date RegExp Function Array Error Set Map".split(" ");
X=e(c[0]);T=e(c[2]);sa=b(c[3]);ra=b(c[4]);w=b(c[5]);U=Array.isArray||b(c[6]);ea=b(c[7]);ca=b(c[8],"undefined"!==typeof Set&&Set);da=b(c[9],"undefined"!==typeof Map&&Map);a("Arguments");a(c[0]);a(c[1]);a(c[2]);a(c[3]);a(c[4]);a(c[6])})();(function(){fa("Int8 Uint8 Uint8Clamped Int16 Uint16 Int32 Uint32 Float32 Float64".split(" "),function(b){a(b+"Array")})})();V=function(a,b){b=b||q(a);return f[b]||ta(a,b)}})();(function(){for(var a=0;9>=a;a++)Ia(a+65296),Ia(a+48)})();nb(z,{from:function(a){var b=
arguments[1],c=arguments[2],d,e;void 0!==b&&P(b);if(null==a)throw new TypeError("Object required.");d=a;Q(d)&&(d=Object(d));if(lb&&T(d)){e=d;for(var f=0,h;h=e.charAt(f);)e[f++]=h}a=d;d=Ca(H(0,a.length||0));if(d>>>0!=d||4294967295==d)throw new RangeError("Invalid array length");w(this)?(e=new this(d),e.length=d):e=Array(d);for(f=0;f<d;f++)n(e,f,void 0!==b?b.call(c,a[f],f):a[f],!0);return e}});Ga(z,{find:function(a){var b=arguments[1];P(a);for(var c=0,d=this.length;c<d;c++)if(a.call(b,this[c],c,this))return this[c]},
findIndex:function(a){var b=arguments[1];P(a);for(var c=0,d=this.length;c<d;c++)if(a.call(b,this[c],c,this))return c;return-1}});Ga(z,{includes:function(a){var b=arguments[1],c;if(T(this))return this.includes(a,b);b=b?b.valueOf():0;c=this.length;for(0>b&&(b=H(0,b+c));b<c;b++){var d=this[b];if(null!=a&&a!==a?null!=d&&d!==d:a===d&&(0!==a||1/a===1/d))return!0}return!1}});var Ja=y("some",v),Ka=y("filter",v);Fa(z,{map:u(y("map",Ea)),some:u(Ja),every:u(y("every",v)),filter:u(Ka),find:u(y("find",v)),findIndex:u(y("findIndex",
v))},["enhance","enhanceArray"]);Fa(z,{none:u(function(){return!Ja.apply(this,arguments)}),count:u(function(a,b){return void 0===b?a.length:Ka.apply(this,arguments).length}),min:function(a,b,c){return G(a,b,c)},max:function(a,b,c){return G(a,b,c,!0)},least:function(a,b,c){return Y(a,b,c)},most:function(a,b,c){return Y(a,b,c,!0)},sum:function(a,b){return za(a,b)},average:function(a,b){return Aa(a,b)},median:function(a,b){return Ba(a,b)}});var La=ga("some");ob(mb,{forEach:function(a,b){return fb(a,
b)},map:function(a,b){return gb(a,b)},some:La,every:ga("every"),filter:function(a,b){return ib(a,b)},reduce:function(a,b,c){return hb(a,b,c)},find:ga("find"),count:function(a,b){return jb(a,b)},none:function(a,b){return!La(a,b)},sum:function(a,b){return za(a,b)},average:function(a,b){return Aa(a,b)},median:function(a,b){return Ba(a,b)},min:function(a,b,c){return G(a,b,c,!1,!0)},max:function(a,b,c){return G(a,b,c,!0,!0)},least:function(a,b,c){return Y(a,b,c,!1,!0)},most:function(a,b,c){return Y(a,
b,c,!0,!0)}});(function(){function a(a,b,c){var d=a;b&&(d=a.slice(b),c&&(d=d.concat(a.slice(0,b))));return d}function b(a,b){return Ha(b,H(0,a))}function c(a,b,c,d,e,m){return function(d,l,k){k=ya(k+b,e,m);return c.call(a,d,l,k,a)}}function d(a,b,c,d,e,k){return function(m,n){n=ya(n+b,e,k);return c.call(d,a[n],n,a)}}function e(c,e){var g=e.f||Array.prototype[c],l=e.apply||d,k=e.slice||a,m=e.clamp||b,n=e.result,p=e.a;return function(a,b,c){var d=[],e=0,f,h,q;f=a.length;X(c[0])&&(h=c[e++]);q=c[e++];
e=c[e];0>b&&(b+=f);b=m(b,f);qa(c.length);q=p?p(q,e):q;d.push(l(a,b,q,e,f,h));e&&d.push(e);a=g.apply(k(a,b,h),d);n&&(a=n(a,b,f));return a}}k({forEach:{f:function(a){fa(this,a)}},map:{a:Ea},"some every":{a:v},findIndex:{a:v,result:function(a,b,c){-1!==a&&(a=(a+b)%c);return a}},reduce:{apply:c},"filter find":{a:v},reduceRight:{apply:c,slice:function(a,b,c){c||(a=a.slice(0,H(0,b+1)));return a},clamp:function(a,b){return Ha(b,H(-1,a))}}},function(a,b){fa(b.split(" "),function(b){pb(z,b+"FromIndex",e(b,
a))})})})()}).call(this);}).call(this);
